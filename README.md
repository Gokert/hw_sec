# hw_sec

Отчёт по домашнему заданию №2

В ходе изучения приложения было выявлено следующее:

1. Полученный QR-код состоит из двух полей: sign и promo.
2. Внимание стоит уделить файлу sources/ru/ok/qruath/Checker.java. В нём происходит проверка корректности QR-кода по определённому правилу: считается, что QR-код корректен, если поле promo с добавлением строки "12345" после хеширования md5 эквивалентно полю sign. Обратите внимание, что длина хеша должна составлять более 32 символов, иначе она дополняется нулями до 32 символов.
3. В файле sources/ru/ok/qruath/view.java происходит проверка QR-кода при помощи Checker, о котором упоминалось в предыдущем пункте. При корректности QR-кода, поле promo загружается в HTML-код (без экранирования), который отправляется пользователю.
4. Если сгeнerировать QR-код таким образом, чтобы поле promo содержало JavaScript-инъекцию, учитывая правила формирования QR-кодов, о которых говорилось ранее, приложение станет уязвимым для XSS-атак.
__________________________________________________________________________________________________________________________________________________________________

Задание 1: Обман казино

Чтобы обмануть казино, нужно выполнить следующие действия:

1. При запуске приложения переключите его в режим отладки:

```
adb shell am start -n ru.vk.nsa/.Casino -e mode "debug"
```

 поиск в журналах отладки приложения командой:

```
adb logcat | grep -i expected
```

3.  В самом приложении нажать кнопку "play". Введсти в поле "code" НЕ ЦИФРЫ, а символы. Затем проследить вывод отладки, запущенный на втором этапе, где отображается код для победы в казино.

4. Введите найденный код и одержите победу.

Задание 2: Обход регулярного выражения в Wiki

Для обхода регулярного выражения и перенаправления пользователей на зловредные ресурсы в Интернете со следующим видом адреса:

```
adb shell am start -n ru.vk.nsa/.Wiki -e url "https://en.wikipedia.org/wiki/Main_Page"
```

Вы можете создать свой веб-сайт с вредоносным кодом, используя поддомен Википедии, тем самым совершая атаку на пользователя.
